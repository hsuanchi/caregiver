<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>互動式營養素資料庫 | 營養百科</title>
    <meta name="description" content="探索所有關於營養補充品的專業文章，提供您最完整、最科學的健康指引。" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../pic/Nutrition Encyclopedia.png">
    <link rel="shortcut icon" type="image/png" href="../pic/Nutrition Encyclopedia.png">
    <!-- Open Graph for Social Media -->
    <meta property="og:site_name" content="營養百科" />

    <!-- JSON-LD for WebSite (Site Name in Search Results) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "營養百科",
      "alternateName": "營養百科",
      "url": "https://life.maxlist.xyz/"
    }
    </script>

    <!-- JSON-LD for Breadcrumb -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "營養百科",
        "item": "https://life.maxlist.xyz/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "互動式營養素資料庫"
      }]
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
              "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            line-height: 1.8;
        }
        .main-container {
            padding-top: 120px;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="header-component"></div>

    <div class="main-container container mx-auto p-4 md:p-8">

        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">互動式營養素資料庫</h1>
            <p class="mt-2 text-slate-600">一個用於探索、篩選和分析營養補充品的動態儀表板。</p>
        </header>

        <main>

            
            
            <!-- Section 2: Goal Filter & Search (Combined) -->
            <div class="bg-white rounded-xl shadow-sm p-4 md:p-6 mb-8">
                <h2 class="text-xl font-bold mb-4 text-slate-800 border-b pb-2">篩選器：依健康目標與關鍵字搜尋</h2>
                <p class="text-slate-600 mb-6">您可以直接輸入關鍵字，或點擊下方分類展開健康目標來縮小搜尋範圍。</p>
                
                <!-- Search Input (Moved up) -->
                <div class="mb-6">
                    <label for="searchInput" class="font-semibold text-slate-700 mb-2 block">搜尋營養素名稱：</label>
                    <input type="text" id="searchInput" placeholder="例如：維生素C 或 魚油" class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                </div>

                <!-- Accordion Goal Filter -->
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <label class="font-semibold text-slate-700 block">依健康目標多選：</label>
                        <button id="clearGoalsBtn" class="text-sm text-teal-600 font-medium hover:text-teal-800 transition hidden">清除所有目標</button>
                    </div>
                    <div id="healthGoalAccordionContainer" class="border border-slate-200 rounded-lg">
                        <!-- Accordion items will be generated by dashboard-logic.js -->
                    </div>
                </div>
            </div>

            <div id="resultsCount" class="mb-4 text-slate-600 font-medium"></div>

            <div id="nutrientGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Nutrient cards will be dynamically generated here by dashboard-logic.js -->
            </div>
        </main>

    </div>

    <div id="footer-component"></div>

    <script src="../assets/js/deus-analytics-component.js"></script>
    <script src="../assets/js/deus-header-component.js"></script>
    <script src="../assets/js/deus-footer-component.js"></script>
    
    <!-- Refactored Scripts -->
    <script src="../assets/js/articles-data.js"></script>
    <script src="../assets/js/dashboard-logic.js"></script>

    <!-- Component Initializer -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.DeusAnalyticsComponent) new window.DeusAnalyticsComponent().setDebug(false).setEnvironment('production');
        if (window.DeusHeaderComponent) new window.DeusHeaderComponent(document.getElementById("header-component")).setDebug(false);
        if (window.DeusFooterComponent) new window.DeusFooterComponent(document.getElementById("footer-component")).setDebug(false);
      });
    </script>
</body>
</html>