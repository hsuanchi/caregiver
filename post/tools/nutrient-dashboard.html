<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>äº’å‹•å¼ç‡Ÿé¤Šç´ è³‡æ–™åº« | ç‡Ÿé¤Šç™¾ç§‘</title>
    <meta name="description" content="æ¢ç´¢æ‰€æœ‰é—œæ–¼ç‡Ÿé¤Šè£œå……å“çš„å°ˆæ¥­æ–‡ç« ï¼Œæä¾›æ‚¨æœ€å®Œæ•´ã€æœ€ç§‘å­¸çš„å¥åº·æŒ‡å—ã€‚" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/pic/Nutrition Encyclopedia.png">
    <link rel="shortcut icon" type="image/png" href="/pic/Nutrition Encyclopedia.png">
    <!-- Open Graph for Social Media -->
    <meta property="og:site_name" content="ç‡Ÿé¤Šç™¾ç§‘" />

    <!-- JSON-LD for WebSite (Site Name in Search Results) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "ç‡Ÿé¤Šç™¾ç§‘",
      "alternateName": "ç‡Ÿé¤Šç™¾ç§‘",
      "url": "https://life.maxlist.xyz/"
    }
    </script>

    <!-- JSON-LD for Breadcrumb -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "ç‡Ÿé¤Šç™¾ç§‘",
        "item": "https://life.maxlist.xyz/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "äº’å‹•å¼ç‡Ÿé¤Šç´ è³‡æ–™åº«"
      }]
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin: auto;
        }
        .main-container {
            padding-top: 120px;
        }

      .alert-tip { background-color: #e6f7ff; border-color: #91d5ff; color: #0050b3; }

      .alert-doctor > strong::before, .alert-danger > strong::before {
        content: 'âš ï¸';
        margin-right: 8px;
      }
      .alert-nutritionist > strong::before, .alert-tip > strong::before {
        content: 'ğŸ’¡';
        margin-right: 8px;
      }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="header-component"></div>

    <div class="main-container container mx-auto p-4 md:p-8">

        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">äº’å‹•å¼ç‡Ÿé¤Šç´ è³‡æ–™åº«</h1>
            <p class="mt-2 text-slate-600">ä¸€å€‹ç”¨æ–¼æ¢ç´¢ã€ç¯©é¸å’Œåˆ†æç‡Ÿé¤Šè£œå……å“çš„å‹•æ…‹å„€è¡¨æ¿ã€‚</p>
        </header>

        <main>
            <div class="bg-white rounded-xl shadow-sm p-4 md:p-6 mb-8">
                <h2 class="text-xl font-bold mb-4 text-slate-800 border-b pb-2">è³‡æ–™ç¸½è¦½èˆ‡ç¯©é¸</h2>
                <p class="text-slate-600 mb-6">æ­¤å€å¡Šæä¾›æ‚¨å°æ•´é«”å…§å®¹ç‹€æ…‹çš„å¿«é€Ÿäº†è§£ã€‚æ‚¨å¯ä»¥ä¾æ“š**çµæ§‹é¡å‹**ï¼ˆå¦‚ç¶­ç”Ÿç´ é¡ï¼‰ã€**å¥åº·ç›®æ¨™**ï¼ˆå¯å¤šé¸ï¼‰æˆ–é—œéµå­—é€²è¡Œç²¾æº–æœå°‹ã€‚</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-start">
                    <!-- Donut Chart -->
                    <div class="md:col-span-1">
                        <div class="chart-container">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>
                    <!-- Filters -->
                    <div class="md:col-span-2 space-y-6">
                        <!-- Primary Type Filter (Single Select) -->
                        <div>
                            <label class="font-semibold text-slate-700 mb-2 block">ä¾çµæ§‹é¡å‹ç¯©é¸ (Category)ï¼š</label>
                            <div id="mainTypeFilters" class="flex flex-wrap gap-2">
                            </div>
                        </div>

                        <!-- Secondary Goal Filter (Multi Select Tags) -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label class="font-semibold text-slate-700 block">ä¾å¥åº·ç›®æ¨™å¤šé¸ (Subcategory)ï¼š</label>
                                <button id="clearGoalsBtn" class="text-sm text-teal-600 font-medium hover:text-teal-800 transition hidden">æ¸…é™¤æ‰€æœ‰ç›®æ¨™</button>
                            </div>
                            <div id="healthGoalFiltersContainer" class="flex flex-wrap gap-2 p-2 bg-slate-100 rounded-lg max-h-40 overflow-y-auto border border-slate-200">
                                <!-- Tags inserted here by JS -->
                            </div>
                        </div>

                        <!-- Search Input -->
                        <div>
                            <label for="searchInput" class="font-semibold text-slate-700 mb-2 block">æœå°‹ç‡Ÿé¤Šç´ åç¨±ï¼š</label>
                            <input type="text" id="searchInput" placeholder="ä¾‹å¦‚ï¼šç¶­ç”Ÿç´ C æˆ– é­šæ²¹" class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                        </div>
                    </div>
                </div>
            </div>

            <div id="resultsCount" class="mb-4 text-slate-600 font-medium"></div>

            <div id="nutrientGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </div>
        </main>

    </div>

    <!--
    =========================================================================
    MAINTENANCE AND UPDATE GUIDE FOR nutrient-dashboard.html
    =========================================================================

    This page functions as a dynamic, client-side dashboard. All content and
    filtering logic is driven by the `nutrientData` JavaScript array below.
    To add a new article or update an existing one, you only need to modify
    this array. The rest of the page will update automatically.

    -------------------------------------------------------------------------
    HOW TO ADD OR UPDATE A NUTRIENT
    -------------------------------------------------------------------------

    1. Find the `nutrientData` array in the <script> tag below.
    2. To add a new nutrient, copy an existing object and paste it as a new
       element in the array.
    3. To update an existing nutrient, find its corresponding object in the array.
    4. Modify the keys of the object according to these rules:

       - type: (String) The main structural category.
         Current values: 'ç¶­ç”Ÿç´ é¡', 'ç¤¦ç‰©è³ªé¡', 'æ©Ÿèƒ½æ€§æˆåˆ†'.
         This is used for the "ä¾çµæ§‹é¡å‹ç¯©é¸" filter.

       - goals: (Array of Strings) The associated health goals or symptoms.
         This is used for the "ä¾å¥åº·ç›®æ¨™å¤šé¸" filter. You can add new
         goals, and they will automatically appear as filter tags.

       - name: (String) The primary name of the nutrient (e.g., 'ç¶­ç”Ÿç´ C').

       - en_name: (String) The English name of the nutrient (NEWLY ADDED).

       - func: (String) A brief, one-sentence description of its main function.

       - status: (String) Set to 'å·²æ¶µè“‹' if the article exists, or 'å¾…è£œé½Š'
         if it is a placeholder. This controls the card's color and the
         donut chart.

       - link: (String or null) The relative path to the article file from the
         `post/` directory (e.g., '../vitamin-c.html'). If the article
         doesn't exist, set this to `null`.

       - title: (String or null) The exact title of the article. This is
         currently not displayed on the card but is good practice to keep
         in sync for future use. Set to `null` if no article exists.

    -------------------------------------------------------------------------
    EXAMPLE OF A NEW ENTRY
    -------------------------------------------------------------------------

    {
        type: 'ç¤¦ç‰©è³ªé¡',
        goals: ['å…ç–«å¼·åŒ–', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'],
        name: 'ç¡’',
        en_name: 'Selenium',
        func: 'æ§‹æˆé«”å…§é‡è¦æŠ—æ°§åŒ–é…µç´ ï¼Œä¿è­·ç´°èƒå…æ–¼æå‚·',
        status: 'å·²æ¶µè“‹', // Assuming you just wrote the article
        link: '../selenium.html', // The path to the new file
        title: 'ç¡’ - å°æŠ—ç™Œç—‡èˆ‡ç—…æ¯’çš„éš±å½¢å®ˆè­·è€…'
    }

    =========================================================================
    -->
    <script>
        const nutrientData = [
            // type: çµæ§‹åˆ†é¡; goals: å¥åº·ç›®æ¨™/ç—‡ç‹€
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['èƒ½é‡ä»£è¬', 'ç¥ç¶“èˆ‡æƒ…ç·’å¥åº·', 'çš®è†šèˆ‡é»è†œå¥åº·'], name: 'ç¶­ç”Ÿç´ Bç¾¤', en_name: 'Vitamin B Complex', func: 'åƒèˆ‡èƒ½é‡ä»£è¬ã€ç¶­æŒç¥ç¶“ç³»çµ±', status: 'å·²æ¶µè“‹', link: '../vitamin-b.html', title: 'å•Ÿå‹•èº«é«”èƒ½é‡ã€å‘Šåˆ¥ç–²å‹çš„æ´»åŠ›ç™¼é›»æ©Ÿ' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['å¿ƒè¡€ç®¡å¥åº·', 'æ–°ç”Ÿèˆ‡ç™¼è‚²', 'ç¥ç¶“èˆ‡æƒ…ç·’å¥åº·'], name: 'è‘‰é…¸ï¼ˆB9ï¼‰', en_name: 'Folic Acid (B9)', func: 'å®ˆè­·å¿ƒè¡€ç®¡èˆ‡æ–°ç”Ÿçš„ç§˜å¯†åŠŸè‡£', status: 'å·²æ¶µè“‹', link: '../folic-acid.html', title: 'ä¸åªå­•å©¦å¿…å‚™ï¼å®ˆè­·å¿ƒè¡€ç®¡èˆ‡æ–°ç”Ÿçš„ç§˜å¯†åŠŸè‡£' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['å…ç–«å¼·åŒ–', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'è‚Œè†šèˆ‡è† åŸè›‹ç™½'], name: 'ç¶­ç”Ÿç´ Cï¼ˆæŠ—å£è¡€é…¸ï¼‰', en_name: 'Vitamin C (Ascorbic Acid)', func: 'å¼·åŠ›æŠ—æ°§åŒ–ã€æœ‰åŠ©æ–¼è† åŸè›‹ç™½åˆæˆ', status: 'å·²æ¶µè“‹', link: '../vitamin-c.html', title: 'æ‰“é€ é€äº®ç¾è‚Œèˆ‡å¼·æ•ˆä¿è­·åŠ›çš„æŠ—æ°§åŒ–ä¹‹ç‹' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['è¦–åŠ›ç¶­è­·', 'å…ç–«å¼·åŒ–', 'çš®è†šèˆ‡é»è†œå¥åº·'], name: 'ç¶­ç”Ÿç´ A', en_name: 'Vitamin A', func: 'ç¶­æŒè¦–åŠ›ã€å…ç–«åŠŸèƒ½å’Œä¸Šçš®çµ„ç¹”å®Œæ•´', status: 'å·²æ¶µè“‹', link: '../vitamin-a.html', title: 'ä¸åªé¡§çœ¼ç›ï¼è§£é–è¦–è¦ºã€çš®è†šèˆ‡å…ç–«çš„3å¤§é—œéµ' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·', 'å…ç–«å¼·åŒ–', 'å…§åˆ†æ³Œèª¿ç¯€'], name: 'ç¶­ç”Ÿç´ D', en_name: 'Vitamin D', func: 'å”åŠ©éˆ£è³ªå¸æ”¶ã€èª¿ç¯€å…ç–«åŠŸèƒ½', status: 'å·²æ¶µè“‹', link: '../vitamin-d.html', title: 'ä¸åªæ˜¯ç¶­ç”Ÿç´ ï¼Œæ›´æ˜¯èº«é«”çš„é™½å…‰ç¸½æŒ‡æ®' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'å¿ƒè¡€ç®¡å¥åº·', 'ç´°èƒä¿è­·'], name: 'ç¶­ç”Ÿç´ E', en_name: 'Vitamin E', func: 'å…·æŠ—æ°§åŒ–ä½œç”¨ï¼Œä¿è­·ç´°èƒè†œ', status: 'å·²æ¶µè“‹', link: '../vitamin-e.html', title: 'ä¿è­·ç´°èƒã€å°æŠ—æ­²æœˆç—•è·¡çš„æŠ—è€æˆ°å£«' },
            { type: 'ç¶­ç”Ÿç´ é¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·', 'å¿ƒè¡€ç®¡å¥åº·', 'è¡€æ¶²å‡å›º'], name: 'ç¶­ç”Ÿç´ K', en_name: 'Vitamin K', func: 'åƒèˆ‡è¡€æ¶²å‡å›ºå’Œéª¨éª¼ä»£è¬', status: 'å·²æ¶µè“‹', link: '../vitamin-k.html', title: 'è£œéˆ£ã€è£œDç‚ºä½•ä¸€å®šè¦æœ‰å®ƒï¼ŸK2æ‰æ˜¯é é˜²éª¨é¬†èˆ‡è¡€ç®¡éˆ£åŒ–çš„é—œéµ' },
            
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·', 'ç¥ç¶“èˆ‡è‚Œè‚‰åŠŸèƒ½', 'ç¡çœ èˆ‡æ”¾é¬†'], name: 'éˆ£', en_name: 'Calcium', func: 'æ§‹æˆéª¨éª¼èˆ‡ç‰™é½’ï¼Œåƒèˆ‡è‚Œè‚‰æ”¶ç¸®', status: 'å·²æ¶µè“‹', link: '../calcium.html', title: 'ä¸åªè£œéª¨ï¼çµ‚çµæŠ½ç­‹ã€å¤±çœ çš„é—œéµç¤¦ç‰©è³ª' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['ç¡çœ èˆ‡æ”¾é¬†', 'ç¥ç¶“èˆ‡è‚Œè‚‰åŠŸèƒ½', 'èƒ½é‡ä»£è¬'], name: 'é‚', en_name: 'Magnesium', func: 'åƒèˆ‡èƒ½é‡ä»£è¬ã€ç¥ç¶“èˆ‡è‚Œè‚‰åŠŸèƒ½', status: 'å·²æ¶µè“‹', link: '../magnesium.html', title: 'çµ‚çµå¤±çœ èˆ‡æŠ½ç­‹çš„æ”¾é¬†ç¤¦ç‰©è³ª' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['å¿ƒè¡€ç®¡å¥åº·', 'é«”æ¶²å¹³è¡¡', 'ç¥ç¶“èˆ‡è‚Œè‚‰åŠŸèƒ½'], name: 'é‰€', en_name: 'Potassium', func: 'ç¶­æŒé«”æ¶²å¹³è¡¡ã€ç¥ç¶“å‚³å°èˆ‡è‚Œè‚‰æ”¶ç¸®', status: 'å·²æ¶µè“‹', link: '../potassium.html', title: 'çµ‚çµæ°´è…«ã€æŠ½ç­‹çš„é›»è§£è³ªä¹‹ç‹' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['é«”æ¶²å¹³è¡¡', 'ç¥ç¶“èˆ‡è‚Œè‚‰åŠŸèƒ½'], name: 'éˆ‰', en_name: 'Sodium', func: 'ç¶­æŒé«”æ¶²å¹³è¡¡', status: 'å¾…è£œé½Š', link: null, title: null },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·', 'èƒ½é‡ä»£è¬'], name: 'ç£·', en_name: 'Phosphorus', func: 'æ§‹æˆéª¨éª¼èˆ‡ç‰™é½’ï¼Œåƒèˆ‡èƒ½é‡ä»£è¬', status: 'å¾…è£œé½Š', link: null, title: null },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['è¡€ç´…ç´ èˆ‡æ°£è‰²', 'èƒ½é‡ä»£è¬', 'æ–°ç”Ÿèˆ‡ç™¼è‚²'], name: 'éµ', en_name: 'Iron', func: 'æ§‹æˆè¡€ç´…ç´ ï¼Œè² è²¬æ°§æ°£é‹è¼¸', status: 'å·²æ¶µè“‹', link: '../iron.html', title: 'å‘Šåˆ¥ç–²å‹ã€æ“æœ‰ç´…æ½¤æ°£è‰²çš„æ´»åŠ›å…ƒç´ ' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['å…ç–«å¼·åŒ–', 'ç”Ÿé•·ç™¼è‚²èˆ‡ä¿®å¾©', 'çš®è†šèˆ‡é»è†œå¥åº·'], name: 'é‹…', en_name: 'Zinc', func: 'åƒèˆ‡å…ç–«åŠŸèƒ½ã€ç”Ÿé•·ç™¼è‚²èˆ‡ç´°èƒä¿®å¾©', status: 'å·²æ¶µè“‹', link: '../zinc.html', title: 'é»ç‡ƒ300ç¨®ä»£è¬åæ‡‰çš„ç”Ÿå‘½ç«æ˜Ÿå¡' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['ç”²ç‹€è…ºèˆ‡ä»£è¬', 'å…§åˆ†æ³Œèª¿ç¯€', 'æ–°ç”Ÿèˆ‡ç™¼è‚²'], name: 'ç¢˜', en_name: 'Iodine', func: 'æ§‹æˆç”²ç‹€è…ºç´ ï¼Œèª¿ç¯€æ–°é™³ä»£è¬', status: 'å·²æ¶µè“‹', link: '../iodine.html', title: 'ç¢˜ - ä¸åªé˜²å¤§è„–å­ï¼å•Ÿå‹•æ–°é™³ä»£è¬ã€å®ˆè­·å¤§è…¦ç™¼è‚²çš„é—œéµé‘°åŒ™' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'ç´°èƒä¿è­·'], name: 'ç¡’', en_name: 'Selenium', func: 'å…·æŠ—æ°§åŒ–ä½œç”¨ï¼Œä¿è­·ç´°èƒ', status: 'å¾…è£œé½Š', link: null, title: null },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['èƒ½é‡ä»£è¬', 'ç´°èƒä¿è­·', 'è¡€ç´…ç´ èˆ‡æ°£è‰²', 'è‚Œè†šèˆ‡è† åŸè›‹ç™½'], name: 'éŠ…', en_name: 'Copper', func: 'åƒèˆ‡èƒ½é‡ä»£è¬ã€éµè³ªé‹è¼¸èˆ‡çµç· çµ„ç¹”å½¢æˆ', status: 'å·²æ¶µè“‹', link: '../copper.html', title: 'éŠ… (Copper) å®Œæ•´æŒ‡å—ï¼šåŠŸæ•ˆã€æ”å–é‡èˆ‡3å¤§é—œéµæ­é…ï¼Œæ¿€æ´»æ‚¨çš„é’æ˜¥èƒ½é‡' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'èƒ½é‡ä»£è¬'], name: 'éŒ³', en_name: 'Manganese', func: 'åƒèˆ‡éª¨éª¼å½¢æˆèˆ‡èƒ½é‡ä»£è¬çš„è¼”é…¶', status: 'å·²æ¶µè“‹', link: '../manganese.html', title: 'éŒ³ - ä¸åªæ˜¯å·¥æ¥­åŸæ–™ï¼éå›ºéª¨éª¼ã€å•Ÿå‹•ä»£è¬çš„å¹•å¾ŒåŠŸè‡£ï¼šä¸€ç¯‡çœ‹æ‡‚éŒ³èˆ‡éµéˆ£çš„å¹³è¡¡å­¸' },
            { type: 'ç¤¦ç‰©è³ªé¡', goals: ['éª¨éª¼èˆ‡ç‰™é½’å¥åº·'], name: 'æ°Ÿ', en_name: 'Fluoride', func: 'å¼·åŒ–ç‰™é½’çºç‘¯è³ªï¼Œé é˜²è›€ç‰™', status: 'å·²æ¶µè“‹', link: '../fluoride.html', title: 'æ°Ÿ - çµ‚çµè›€ç‰™çš„éš±å½¢é˜²è­·ç½©ï¼šä¸€ç¯‡çœ‹æ‡‚å®‰å…¨åŠ‘é‡ã€æ°Ÿæ–‘ç‰™èˆ‡é£²æ°´è¿·æ€' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è¡€ç³–ç©©å®š', 'é«”é‡ç®¡ç†', 'èƒ½é‡ä»£è¬'], name: 'é‰»', en_name: 'Chromium', func: 'å¼·åŒ–èƒ°å³¶ç´ ä½œç”¨ï¼Œç©©å®šè¡€ç³–ã€æŠ‘åˆ¶å°ç”œé£Ÿçš„æ¸´æœ›', status: 'å·²æ¶µè“‹', link: '../chromium.html', title: 'é‰» - ç©©å®šè¡€ç³–ã€æŠ‘åˆ¶å˜´é¥çš„ä»£è¬ç¥éšŠå‹' },
            
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['é—œç¯€èˆ‡è»Ÿéª¨', 'é‹å‹•ä¿®å¾©èˆ‡æ”¯æŒ'], name: 'è‘¡è„ç³–èƒº', en_name: 'Glucosamine', func: 'æ§‹æˆé—œç¯€è»Ÿéª¨èˆ‡æ»‘æ¶²çš„é‡è¦æˆåˆ†', status: 'å·²æ¶µè“‹', link: '../glucosamine.html', title: 'è‘¡è„ç³–èƒº - é—œç¯€å¡å¡ã€ä¸Šä¸‹æ¨“æ¢¯ä¸é©çš„æ•‘æ˜Ÿï¼Ÿä¸€ç¯‡çœ‹æ‡‚3å¤§é¡å‹ã€åŠŸæ•ˆèˆ‡å‰¯ä½œç”¨è¿·æ€' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['é—œç¯€èˆ‡è»Ÿéª¨', 'é‹å‹•ä¿®å¾©èˆ‡æ”¯æŒ', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'], name: 'è»Ÿéª¨ç´ ', en_name: 'Chondroitin', func: 'æä¾›é—œç¯€è»Ÿéª¨å½ˆæ€§èˆ‡ä¿æ°´æ€§ï¼Œä¸¦æŠ‘åˆ¶ç™¼ç‚åæ‡‰ï¼Œå»¶ç·©ç£¨æ', status: 'å·²æ¶µè“‹', link: '../chondroitin.html', title: 'è»Ÿéª¨ç´  - çµ‚çµé—œç¯€å¡å¡ã€æ‰¾å›éˆæ´»è¡Œå‹•åŠ›çš„é—œéµ' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è‚Œè†šèˆ‡è† åŸè›‹ç™½', 'é—œç¯€èˆ‡è»Ÿéª¨', 'éª¨éª¼èˆ‡ç‰™é½’å¥åº·'], name: 'è† åŸè›‹ç™½', en_name: 'Collagen', func: 'æä¾›çµæ§‹æ”¯æ’ï¼Œå­˜åœ¨æ–¼çš®è†šã€éª¨éª¼', status: 'å·²æ¶µè“‹', link: '../collagen.html', title: 'åƒå‡ºæ¾æ½¤Qå½ˆçš„é’æ˜¥å¯¦è¸æŒ‡å—' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è¦–åŠ›ç¶­è­·', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'], name: 'è‘‰é»ƒç´ ', en_name: 'Lutein', func: 'æœ‰åŠ©æ–¼ä¿è­·çœ¼ç›å…å—è—å…‰å‚·å®³', status: 'å·²æ¶µè“‹', link: '../lutein.html', title: '3Cä¸–ä»£çš„å…§å»ºè­·çœ¼è—å…‰æ¿¾é¡' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'æ¶ˆåŒ–é“å¥åº·', 'ç´°èƒä¿è­·'], name: 'è–‘é»ƒç´ ', en_name: 'Curcumin', func: 'å…·æœ‰å¼·å¤§çš„æŠ—ç™¼ç‚èˆ‡æŠ—æ°§åŒ–ä½œç”¨', status: 'å·²æ¶µè“‹', link: '../curcumin.html', title: 'èº«é«”çš„å¤©ç„¶æŠ—ç™¼ç‚è¶…ç´šæ»…ç«å™¨' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'å¿ƒè¡€ç®¡å¥åº·', 'ç´°èƒä¿è­·', 'ç”·æ€§ä¿å¥'], name: 'èŒ„ç´…ç´ ', en_name: 'Lycopene', func: 'å¼·æ•ˆæŠ—æ°§åŒ–åŠ‘ï¼Œå°¤å…¶å°æ”è­·è…ºå¥åº·æœ‰ç›Š', status: 'å·²æ¶µè“‹', link: '../lycopene.html', title: 'èŒ„ç´…ç´  - ä¸åªæ˜¯ç•ªèŒ„çš„ç´…è‰²åŠ›é‡ï¼ä¸€ç¯‡çœ‹æ‡‚è¶…å¼·æŠ—æ°§åŒ–åŠ›ã€å¿ƒè¡€ç®¡èˆ‡æ”è­·è…ºä¿å¥çš„é—œéµç§˜å¯†' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚', 'è¦–åŠ›ç¶­è­·', 'å¿ƒè¡€ç®¡å¥åº·'], name: 'èŠ±é’ç´ ', en_name: 'Anthocyanins', func: 'å¼·æ•ˆæŠ—æ°§åŒ–åŠ‘ï¼Œæœ‰åŠ©æ–¼æ”¹å–„å¤œé–“è¦–åŠ›èˆ‡è¡€ç®¡å¥åº·', status: 'å·²æ¶µè“‹', link: '../anthocyanins.html', title: 'èŠ±é’ç´  - çµ‚çµ3Cçœ¼ç–²å‹ã€é€†è½‰è€åŒ–çš„è¶…ç´šæŠ—æ°§åŒ–ç‰©' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['å¿ƒè¡€ç®¡å¥åº·', 'èƒ½é‡ä»£è¬', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'], name: 'è¼”é…¶Q10ï¼ˆCoQ10ï¼‰', en_name: 'Coenzyme Q10 (CoQ10)', func: 'åƒèˆ‡ç´°èƒèƒ½é‡ç”Ÿæˆï¼Œå…·å‚™æŠ—æ°§åŒ–ä½œç”¨', status: 'å·²æ¶µè“‹', link: '../coenzyme-q10.html', title: 'é»ç‡ƒå¿ƒè‡Ÿæ´»åŠ›çš„èƒ½é‡ç«æ˜Ÿå¡' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è…¸é“èŒç¾¤å¹³è¡¡', 'å…ç–«å¼·åŒ–', 'æ¶ˆåŒ–é“å¥åº·'], name: 'ç›Šç”ŸèŒï¼ˆProbioticsï¼‰', en_name: 'Probiotics', func: 'æœ‰åŠ©æ–¼å¹³è¡¡è…¸é“èŒç¾¤', status: 'å·²æ¶µè“‹', link: '../probiotics.html', title: 'é‡å»ºè…¸é“å¥½èŒå¹³è¡¡çš„æ¶ˆåŒ–å°ˆå®¶' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è…¸é“èŒç¾¤å¹³è¡¡', 'æ¶ˆåŒ–é“å¥åº·'], name: 'ç›Šç”Ÿè³ªï¼ˆPrebioticsï¼‰', en_name: 'Prebiotics', func: 'ç›Šç”ŸèŒçš„é£Ÿç‰©ï¼Œèƒ½ä¿ƒé€²ç›Šç”ŸèŒç”Ÿé•·', status: 'å¾…è£œé½Š', link: null, title: null },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['æ¶ˆåŒ–é“å¥åº·', 'é«”é‡ç®¡ç†', 'è…¸é“èŒç¾¤å¹³è¡¡', 'è¡€ç³–ç©©å®š'], name: 'è†³é£Ÿçº–ç¶­', en_name: 'Dietary Fiber', func: 'ç¶­è­·è…¸é“è •å‹•ã€å¢åŠ é£½è¶³æ„Ÿ', status: 'å·²æ¶µè“‹', link: '../dietary-fiber.html', title: 'è†³é£Ÿçº–ç¶­ - ä¸åªé€šä¾¿ï¼è§£é–è…¸é“å¥åº·ã€ç©©å®šè¡€ç³–çš„çµ‚æ¥µæŒ‡å—' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['å¿ƒè¡€ç®¡å¥åº·', 'è…¦éƒ¨èªçŸ¥', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'], name: 'é­šæ²¹ï¼ˆOmega-3è„‚è‚ªé…¸ï¼‰', en_name: 'Fish Oil (Omega-3 Fatty Acids)', func: 'åŒ…å«DHAèˆ‡EPAï¼Œæœ‰åŠ©æ–¼ç¶­æŒå¿ƒè¡€ç®¡å¥åº·èˆ‡è…¦éƒ¨åŠŸèƒ½', status: 'å·²æ¶µè“‹', link: '../fish-oil.html', title: 'æš¢é€šæ€ç·’ã€ä¿è­·å¿ƒè¡€ç®¡çš„é—œéµOmega-3' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['ç¡çœ èˆ‡æ”¾é¬†', 'ç¥ç¶“èˆ‡æƒ…ç·’å¥åº·'], name: 'GABA', en_name: 'GABA (Gamma-Aminobutyric Acid)', func: 'å¤§è…¦çš„å¤©ç„¶å®‰å®šåŠ‘ï¼Œå¹«åŠ©ç·©è§£ç„¦æ…®èˆ‡å¤±çœ ', status: 'å·²æ¶µè“‹', link: '../gaba.html', title: 'å‘Šåˆ¥ç„¦æ…®èˆ‡å¤±çœ ï¼Œå¤§è…¦çš„å¤©ç„¶å®‰å®šåŠ‘' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['è‚è‡Ÿè§£æ¯’èˆ‡ä»£è¬', 'è‚Œè†šèˆ‡è† åŸè›‹ç™½', 'æŠ—æ°§åŒ–èˆ‡æŠ—ç™¼ç‚'], name: 'ç©€èƒ±ç”˜è‚½ (GSH)', en_name: 'Glutathione (GSH)', func: 'äººé«”çš„æŠ—æ°§åŒ–ä¹‹æ¯ï¼Œåƒèˆ‡è‚è‡Ÿè§£æ¯’èˆ‡ç¾ç™½', status: 'å·²æ¶µè“‹', link: '../glutathione.html', title: 'æ‰“é€ ç™¼å…‰è‚Œèˆ‡å¼·æ•ˆè‚è‡Ÿè§£æ¯’çš„æŠ—æ°§åŒ–ä¹‹æ¯' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['é‹å‹•ä¿®å¾©èˆ‡æ”¯æŒ', 'è‚Œè‚‰èˆ‡èƒ½é‡'], name: 'èƒºåŸºé…¸', en_name: 'Amino Acids', func: 'è›‹ç™½è³ªçš„åŸºæœ¬çµ„æˆå–®ä½ï¼Œç”¨æ–¼è‚Œè‚‰ä¿®å¾©èˆ‡åˆæˆï¼ˆå¦‚BCAAï¼‰', status: 'å·²æ¶µè“‹', link: '../amino-acids.html', title: 'èƒºåŸºé…¸åŠŸæ•ˆå…¨è§£æï¼šè§£æ±ºç–²å‹ã€è‚Œè‚‰æµå¤±çš„9å¤§å¿…éœ€èƒºåŸºé…¸' },
            { type: 'æ©Ÿèƒ½æ€§æˆåˆ†', goals: ['å…ç–«å¼·åŒ–', 'å¿ƒè¡€ç®¡å¥åº·', 'è¡€ç³–ç©©å®š'], name: 'Î²-è‘¡èšé†£', en_name: 'Beta-Glucans', func: 'æœ‰åŠ©æ–¼èª¿ç¯€å…ç–«ã€é™ä½è†½å›ºé†‡èˆ‡ç©©å®šè¡€ç³–', status: 'å·²æ¶µè“‹', link: '../beta-glucan.html', title: 'Î²-è‘¡èšé†£ - å•Ÿå‹•å…ç–«åŠ›ã€æ“Šé€€å£è†½å›ºé†‡çš„å¤©ç„¶æ­¦å™¨' },
        ];

        // æ ¸å¿ƒä¿®æ”¹ï¼šåœ¨æ•¸æ“šè¼‰å…¥å¾Œç«‹å³é€²è¡Œè‹±æ–‡åç¨±æ’åº (A->Z)
        nutrientData.sort((a, b) => a.en_name.localeCompare(b.en_name));
        
        // å°‡æ‰€æœ‰ç›®æ¨™æ•´ç†å‡ºä¾†ï¼Œç”¨æ–¼ç”Ÿæˆå¤šé¸æ¨™ç±¤
        const ALL_HEALTH_GOALS = [
            ...new Set(nutrientData.flatMap(item => item.goals))
        ].sort(); // ç¢ºä¿ç›®æ¨™åç¨±æŒ‰å­—æ¯æ’åºï¼Œæ–¹ä¾¿æŸ¥æ‰¾

        const mainTypeFiltersContainer = document.getElementById('mainTypeFilters');
        const healthGoalFiltersContainer = document.getElementById('healthGoalFiltersContainer');
        const searchInput = document.getElementById('searchInput');
        const nutrientGrid = document.getElementById('nutrientGrid');
        const resultsCount = document.getElementById('resultsCount');
        const clearGoalsBtn = document.getElementById('clearGoalsBtn'); // æ–°å¢æ¸…ç©ºæŒ‰éˆ•çš„å¼•ç”¨

        let activeType = 'all';
        let activeGoals = new Set(); // å„²å­˜æ‰€æœ‰é¸ä¸­çš„å¥åº·ç›®æ¨™
        let searchTerm = '';

        function renderNutrientCard(nutrient) {
            const statusColor = nutrient.status === 'å·²æ¶µè“‹' ? 'teal' : 'amber';
            const goalTags = nutrient.goals.map(goal => 
                `<span class="text-xs font-medium text-slate-600 bg-slate-200 px-2 py-0.5 rounded-full">${goal}</span>`
            ).join(' ');

            const enNameDisplay = nutrient.en_name ? `<span class="text-base font-medium text-slate-500">(${nutrient.en_name})</span>` : '';

            const card = `
                <div class="bg-white rounded-lg shadow-md p-5 flex flex-col h-full border-l-4 border-${statusColor}-500 transition hover:shadow-xl hover:transform hover:-translate-y-1">
                    <div class="flex-grow">
                        <div class="flex justify-between items-start mb-2">
                             <h3 class="text-lg font-bold text-slate-900">
                                 ${nutrient.name} 
                                 ${enNameDisplay}
                             </h3>
                             <span class="text-xs font-semibold text-${statusColor}-800 bg-${statusColor}-100 px-2 py-1 rounded-full">${nutrient.status}</span>
                        </div>
                        <p class="text-sm text-slate-500 mb-1">é¡å‹: ${nutrient.type}</p>
                        <div class="flex flex-wrap gap-1 mb-3">${goalTags}</div>
                        <p class="text-slate-700 text-sm mb-3">${nutrient.func}</p>
                    </div>
                    ${nutrient.link ? `<a href="${nutrient.link}" class="mt-4 block w-full text-center bg-teal-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-teal-700 transition">é–±è®€æ–‡ç« </a>` : ''}
                </div>
            `;
            return card;
        }

        function applyFilters() {
            let filteredData = nutrientData;

            // 1. Filter by Structural Type (Category)
            if (activeType !== 'all') {
                filteredData = filteredData.filter(item => item.type === activeType);
            }

            // 2. Filter by Health Goals (Subcategory - Multi-select logic)
            if (activeGoals.size > 0) {
                // å¿…é ˆåŒ…å«æ‰€æœ‰é¸ä¸­çš„ Goals
                const requiredGoals = Array.from(activeGoals);
                filteredData = filteredData.filter(item => 
                    requiredGoals.every(goal => item.goals.includes(goal))
                );
            }
            
            // 3. Filter by Search Term
            if (searchTerm) {
                const lowerSearchTerm = searchTerm.toLowerCase();
                filteredData = filteredData.filter(item => 
                    item.name.toLowerCase().includes(lowerSearchTerm) ||
                    item.en_name.toLowerCase().includes(lowerSearchTerm) || // Allow searching by English name
                    item.func.toLowerCase().includes(lowerSearchTerm) ||
                    item.type.toLowerCase().includes(lowerSearchTerm) ||
                    item.goals.some(goal => goal.toLowerCase().includes(lowerSearchTerm))
                );
            }

            nutrientGrid.innerHTML = filteredData.map(renderNutrientCard).join('');
            resultsCount.textContent = `æ‰¾åˆ° ${filteredData.length} ç­†çµæœ`;
        }
        
        function setupTypeFilters() {
            const mainTypes = ['all', ...new Set(nutrientData.map(item => item.type))];
            mainTypeFiltersContainer.innerHTML = mainTypes.map(type => {
                const text = type === 'all' ? 'å…¨éƒ¨åˆ†é¡' : type;
                const baseClasses = 'px-4 py-2 text-sm font-semibold rounded-full cursor-pointer transition';
                const activeClasses = 'bg-teal-600 text-white shadow';
                const inactiveClasses = 'bg-slate-200 text-slate-700 hover:bg-slate-300';
                const isActive = type === activeType;
                return `<button data-type="${type}" class="${baseClasses} ${isActive ? activeClasses : inactiveClasses}">${text}</button>`;
            }).join('');

            mainTypeFiltersContainer.addEventListener('click', e => {
                if (e.target.tagName === 'BUTTON') {
                    activeType = e.target.dataset.type;
                    document.querySelectorAll('#mainTypeFilters button').forEach(btn => {
                        btn.classList.remove('bg-teal-600', 'text-white', 'shadow');
                        btn.classList.add('bg-slate-200', 'text-slate-700', 'hover:bg-slate-300');
                    });
                    e.target.classList.add('bg-teal-600', 'text-white', 'shadow');
                    e.target.classList.remove('bg-slate-200', 'text-slate-700', 'hover:bg-slate-300');
                    applyFilters();
                }
            });
        }

        function clearGoals() {
            activeGoals.clear();
            document.querySelectorAll('#healthGoalFiltersContainer button').forEach(btn => {
                btn.classList.remove('bg-teal-500', 'text-white', 'border-teal-500', 'shadow-md');
                btn.classList.add('bg-white', 'text-slate-600', 'border-slate-300', 'hover:bg-teal-50', 'hover:border-teal-400');
            });
            updateClearButtonVisibility();
            applyFilters();
        }

        function updateClearButtonVisibility() {
             if (activeGoals.size > 0) {
                 clearGoalsBtn.classList.remove('hidden');
             } else {
                 clearGoalsBtn.classList.add('hidden');
             }
        }
        
        function setupGoalFilters() {
            healthGoalFiltersContainer.innerHTML = ALL_HEALTH_GOALS.map(goal => {
                // RWD Enhancement: Increased padding for better mobile touch target (px-4 py-2)
                const baseClasses = 'px-4 py-2 text-sm font-medium rounded-full cursor-pointer transition duration-150 ease-in-out border whitespace-nowrap';
                const inactiveClasses = 'bg-white text-slate-600 border-slate-300 hover:bg-teal-50 hover:border-teal-400';
                const activeClasses = 'bg-teal-500 text-white border-teal-500 shadow-md';
                return `<button data-goal="${goal}" class="${baseClasses} ${inactiveClasses}">${goal}</button>`;
            }).join('');

            healthGoalFiltersContainer.addEventListener('click', e => {
                if (e.target.tagName === 'BUTTON' && e.target.dataset.goal) {
                    const goal = e.target.dataset.goal;
                    const isSelected = activeGoals.has(goal);
                    
                    if (isSelected) {
                        activeGoals.delete(goal);
                        e.target.classList.remove('bg-teal-500', 'text-white', 'border-teal-500', 'shadow-md');
                        e.target.classList.add('bg-white', 'text-slate-600', 'border-slate-300', 'hover:bg-teal-50', 'hover:border-teal-400');
                    } else {
                        activeGoals.add(goal);
                        e.target.classList.add('bg-teal-500', 'text-white', 'border-teal-500', 'shadow-md');
                        e.target.classList.remove('bg-white', 'text-slate-600', 'border-slate-300', 'hover:bg-teal-50', 'hover:border-teal-400');
                    }
                    updateClearButtonVisibility();
                    applyFilters();
                }
            });
            
            clearGoalsBtn.addEventListener('click', clearGoals); // ç¶å®šæ¸…ç©ºæŒ‰éˆ•äº‹ä»¶
            updateClearButtonVisibility();
        }

        searchInput.addEventListener('input', e => {
            searchTerm = e.target.value;
            applyFilters();
        });

        function createStatusChart() {
            const ctx = document.getElementById('statusChart').getContext('2d');
            const coveredCount = nutrientData.filter(item => item.status === 'å·²æ¶µè“‹').length;
            const pendingCount = nutrientData.length - coveredCount;

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['å·²æ¶µè“‹', 'å¾…è£œé½Š'],
                    datasets: [{
                        label: 'æ–‡ç« ç‹€æ…‹',
                        data: [coveredCount, pendingCount],
                        backgroundColor: [
                            'rgba(13, 148, 136, 0.8)', // teal-600
                            'rgba(245, 158, 11, 0.8)'  // amber-500
                        ],
                        borderColor: [
                            'rgba(13, 148, 136, 1)',
                            'rgba(245, 158, 11, 1)'
                        ],
                        borderWidth: 1,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    size: 14,
                                    family: "'Noto Sans TC', sans-serif"
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'å…§å®¹æ¶µè“‹ç‹€æ…‹',
                            font: {
                                size: 16,
                                weight: 'bold',
                                family: "'Noto Sans TC', sans-serif"
                            }
                        }
                    }
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            createStatusChart();
            setupTypeFilters();
            setupGoalFilters(); 
            applyFilters();
        });
    </script>
    <div id="footer-component"></div>

    <script src="../../assets/js/deus-header-component.js"></script>
    <script src="../../assets/js/deus-footer-component.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.DeusHeaderComponent) {
          new window.DeusHeaderComponent(document.getElementById("header-component")).setDebug(false);
        }
        if (window.DeusFooterComponent) {
          new window.DeusFooterComponent(document.getElementById("footer-component")).setDebug(false);
        }
      });
    </script>
</body>
</html>
